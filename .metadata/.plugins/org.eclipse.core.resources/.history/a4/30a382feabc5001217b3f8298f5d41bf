package ar.com.sociability

import org.springframework.web.*
import org.apache.commons.net.ftp.FTPClient

class CopyOfUploadFileController {

    def index() { 
		redirect(action: "upload")
	}
	

	@Grab(group='commons-net', module='commons-net', version='2.0')
	
	
	new FTPClient().with {
		connect "ftp server address here"
		enterLocalPassiveMode()
		login "username", "password"
		changeWorkingDirectory "directory the file is in"
		fileType = FTPClient.BINARY_FILE_TYPE
		def incomingFile = new File("localfilename")
		incomingFile.withOutputStream { ostream -> retrieveFile "remotefilename", ostream }
		disconnect()
	}
}
